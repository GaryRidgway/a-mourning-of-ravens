document.addEventListener("DOMContentLoaded",(function(){document.fonts.ready.then((()=>{window.requestAnimationFrame((function(){addStanzasToStaging(poem_json),window.requestAnimationFrame((function(){mourn.config.docStyle.setProperty("--stanza-width",mourn.staging.widestStanza*mourn.staging.mainScaling+"px"),window.requestAnimationFrame((function(){const n=randomStanzaIndex();mourn.trackers.startStanza=fetchStagedStanza(n),placeFirstStanza(mourn.trackers.startStanza),window.requestAnimationFrame((function(){setStanzaOffsets(),window.requestAnimationFrame((function(){cascadeRender(),window.requestAnimationFrame((function(){scrollInit(),window.requestAnimationFrame((function(){mourn.debug.on&&placePoemCenter()}))}))}))}))}))}))}))}))}));var animation1=function(){return new Promise((function(n){var t=0,e=function(){t<endValue?(t++,requestAnimationFrame(e)):n()};e()}))};